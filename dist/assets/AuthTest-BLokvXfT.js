import{r as l,j as s,z as d}from"./index-Cb_Vey4A.js";function b(){const[h,t]=l.useState("Ready to test"),[o,a]=l.useState(null),m=async()=>{t("Testing connection..."),a(null);try{const e={url:"https://xyvzpezqavqujpxodtre.supabase.co",hasKey:!0,keyPrefix:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh5dnpwZXpxYXZxdWpweG9kdHJlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU2OTg4MDYsImV4cCI6MjA4MTI3NDgwNn0.BZXDIgovdQHIkhjAKvHr8S1zP7buxiPk0yWmxp2qsOg".substring(0,20)};console.log("Environment check:",e);const{data:n,error:i}=await d.auth.getSession();console.log("Session check:",{sessionData:n,sessionError:i});const u="dolbpinisrail@gmail.com",g="test123456",{data:c,error:r}=await d.auth.signInWithPassword({email:u,password:g});r?(t(`Error: ${r.message}`),a({error:{message:r.message,status:r.status,name:r.name},env:e})):(t("Success! Signed in"),a({user:{id:c.user?.id,email:c.user?.email},session:!!c.session}))}catch(e){t(`Exception: ${e.message}`),a({error:e.toString(),type:e.constructor.name,isFetchError:e instanceof TypeError&&e.message.includes("fetch")}),console.error("Test error:",e)}},x=async()=>{t("Testing direct fetch...");try{const n=await fetch("https://xyvzpezqavqujpxodtre.supabase.co/auth/v1/health"),i=await n.text();t("Direct fetch succeeded"),a({status:n.status,statusText:n.statusText,data:i})}catch(e){t("Direct fetch failed"),a({error:e.message,type:e.constructor.name})}};return s.jsx("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Supabase Auth Test"}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Configuration"}),s.jsxs("div",{className:"space-y-2 font-mono text-sm",children:[s.jsxs("div",{children:["URL: ","https://xyvzpezqavqujpxodtre.supabase.co"]}),s.jsxs("div",{children:["Key: ","âœ“ Present"]}),s.jsxs("div",{children:["Key length: ",208]})]})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Tests"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:m,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded",children:"Test Auth Login"}),s.jsx("button",{onClick:x,className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded",children:"Test Direct Fetch"})]})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Status"}),s.jsx("div",{className:"text-lg",children:h})]}),o&&s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Details"}),s.jsx("pre",{className:"text-xs overflow-auto",children:JSON.stringify(o,null,2)})]})]})})}export{b as default};
