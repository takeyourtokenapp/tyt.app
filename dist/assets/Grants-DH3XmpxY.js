import{r as d,z as x,j as e,H as m,e as N,U as f}from"./index-Cb_Vey4A.js";import{C as y}from"./calendar-DfOGD8DU.js";import{F as w}from"./filter-CbXyuDTl.js";import{E as _}from"./external-link-Dv1yQxy7.js";function F(){const[h,p]=d.useState([]),[s,i]=d.useState("all"),[r,u]=d.useState({totalGrants:0,totalAmount:0,childrenHelped:0,activeGrants:0});d.useEffect(()=>{g(),j()},[]);const g=async()=>{const{data:t,error:l}=await x.from("foundation_grants").select("*").eq("status","approved").order("approved_at",{ascending:!1});t&&p(t)},j=async()=>{const{data:t}=await x.from("foundation_grants").select("amount_usd, children_helped, status").eq("status","approved");if(t){const l=t.reduce((a,c)=>a+parseFloat(c.amount_usd||"0"),0),n=t.reduce((a,c)=>a+(c.children_helped||0),0),v=t.filter(a=>!a.status.includes("completed")).length;u({totalGrants:t.length,totalAmount:l,childrenHelped:n,activeGrants:v})}},o=h.filter(t=>s==="active"?t.status==="approved"||t.status==="in_progress":s==="completed"?t.status==="completed":!0),b=t=>{switch(t){case"completed":return"bg-green-500/20 text-green-400";case"in_progress":return"bg-blue-500/20 text-blue-400";default:return"bg-yellow-500/20 text-yellow-400"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Foundation Grants"}),e.jsx("p",{className:"text-gray-400",children:"Transparent funding for children's brain cancer research"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-purple-500/20 to-purple-600/20 rounded-xl p-6 border border-purple-500/30",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:e.jsx(m,{className:"w-6 h-6 text-purple-400"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:r.totalGrants}),e.jsx("div",{className:"text-sm text-gray-400",children:"Total Grants"})]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-green-500/20 to-green-600/20 rounded-xl p-6 border border-green-500/30",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-green-500/20 rounded-lg",children:e.jsx(N,{className:"w-6 h-6 text-green-400"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",(r.totalAmount/1e3).toFixed(0),"K"]}),e.jsx("div",{className:"text-sm text-gray-400",children:"Total Funding"})]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-blue-500/20 to-blue-600/20 rounded-xl p-6 border border-blue-500/30",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-blue-500/20 rounded-lg",children:e.jsx(f,{className:"w-6 h-6 text-blue-400"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:r.childrenHelped}),e.jsx("div",{className:"text-sm text-gray-400",children:"Children Helped"})]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-[#D2A44C]/20 to-yellow-600/20 rounded-xl p-6 border border-[#D2A44C]/30",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-[#D2A44C]/20 rounded-lg",children:e.jsx(y,{className:"w-6 h-6 text-[#D2A44C]"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:r.activeGrants}),e.jsx("div",{className:"text-sm text-gray-400",children:"Active Grants"})]})]})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(w,{className:"w-5 h-5 text-gray-400"}),e.jsx("button",{onClick:()=>i("all"),className:`px-4 py-2 rounded-lg transition-all ${s==="all"?"bg-[#D2A44C] text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:"All Grants"}),e.jsx("button",{onClick:()=>i("active"),className:`px-4 py-2 rounded-lg transition-all ${s==="active"?"bg-[#D2A44C] text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:"Active"}),e.jsx("button",{onClick:()=>i("completed"),className:`px-4 py-2 rounded-lg transition-all ${s==="completed"?"bg-[#D2A44C] text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:"Completed"})]}),e.jsx("div",{className:"space-y-6",children:o.map(t=>e.jsxs("div",{className:"bg-gradient-to-br from-gray-800/50 to-gray-900/50 rounded-xl p-6 border border-gray-700/50 hover:border-[#D2A44C]/30 transition-all",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:t.title}),e.jsx("span",{className:`text-xs px-2 py-1 rounded ${b(t.status)}`,children:t.status.replace("_"," ")})]}),e.jsx("p",{className:"text-gray-400 mb-2",children:t.institution_name}),e.jsx("p",{className:"text-sm text-gray-500",children:t.country})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-[#D2A44C]",children:["$",t.amount_usd.toLocaleString()]}),e.jsx("div",{className:"text-xs text-gray-400",children:"Grant Amount"})]})]}),e.jsx("p",{className:"text-gray-300 mb-4",children:t.description}),t.research_areas&&t.research_areas.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:t.research_areas.map((l,n)=>e.jsx("span",{className:"px-3 py-1 bg-purple-500/20 text-purple-400 rounded-full text-xs",children:l},n))}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4 border-t border-gray-700/50",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Type"}),e.jsx("div",{className:"text-white font-medium capitalize",children:t.grant_type.replace("_"," ")})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Approved"}),e.jsx("div",{className:"text-white font-medium",children:new Date(t.approved_at).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400",children:"Children Helped"}),e.jsx("div",{className:"text-white font-medium",children:t.children_helped||"TBD"})]}),e.jsx("div",{children:t.impact_report_url&&e.jsxs("a",{href:t.impact_report_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-[#D2A44C] hover:text-yellow-400 transition-colors",children:[e.jsx("span",{className:"text-sm font-medium",children:"Impact Report"}),e.jsx(_,{className:"w-4 h-4"})]})})]})]},t.id))}),o.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(m,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No Grants Found"}),e.jsx("p",{className:"text-gray-400",children:"Check back later for new funding opportunities!"})]})]})}export{F as default};
